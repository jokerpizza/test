<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Sejf - Saldo</title>
    <style>
      table, th, td {
        border: 1px solid #ccc;
        border-collapse: collapse;
        padding: 8px;
      }
    </style>
</head>
<body>
    <h1>Stan sejfu: {{ "%.2f"|format(current_safe_balance) }} PLN</h1>

    <form method="POST" action="{{ url_for('sejf_saldo') }}">
        <label>Kwota:</label>
        <input type="number" step="0.01" name="amount" required>

        <label>Typ:</label>
        <select name="type">
            <option value="wpłata">Wpłata (z sejfu do banku)</option>
            <option value="wypłata">Wypłata (z banku do sejfu)</option>
        </select>

        <label>Opis:</label>
        <input type="text" name="description">

        <button type="submit">Dodaj</button>
    </form>

    <hr>

    <h2>Historia transakcji (sejf + sprzedaż gotówkowa + koszty gotówkowe)</h2>

    <table>
        <thead>
            <tr>
                <th>Data</th>
                <th>Typ</th>
                <th>Kwota</th>
                <th>Stan po transakcji</th>
                <th>Użytkownik</th>
            </tr>
        </thead>
        <tbody>
        {% for t in transactions %}
            <tr>
                <td>{{ t.date }}</td>
                <td>{{ t.type }}</td>
                <td>{{ "%.2f"|format(t.raw_amount) }}</td>
                <td>{{ "%.2f"|format(t.balance_after) }}</td>
                <td>{{ t.user }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</body>
</html>
